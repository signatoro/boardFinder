<CreateGroupScreenPref2>
    name: "create_group_pref2"

    ScrollView:
        size_hint: (1, 1)
        # height: dp(500)
        do_scroll_y: True
        bar_width: 10

        MDBoxLayout:
            orientation: "vertical"
            padding: [25, 10, 25, 10]
            spacing: dp(20)
            size_hint_y: None
            height: self.minimum_height

            MDLabel:
                text: 'Public Information'
                halign: "center"
                pos_hint: {"center_x":.5, "top": 1}
                underline: "true"
                font_style: "H4"
                size_hint_y: None
                height: self.texture_size[1]

            MDLabel:
                text: 'Upload Group Image'
                underline: "true"
                font_style: "H6"
                height: self.texture_size[1]

            FitImage:
                md_bg_color: (0.76, 0.74, 0.78, 1)
                adaptive_height: True
                keep_ratio: True
                source: ""
                id: group_image
                size_hint: None, None
                size: dp(100), dp(100)

            MDRectangleFlatButton:
                text: "Choose Image"
                on_release: root.open_image_popup()

            MDLabel:
                text: 'Group Name'
                underline: "true"
                font_style: "H6"

            MDTextField:
                hint_text: "Susie's Gamers"
                mode: "rectangle"
                multiline: False
                required: True

            MDLabel:
                text: 'General Description'
                underline: "true"
                font_style: "H6"

            MDTextField:
                hint_text: "Enter general description about your group! Draw people in!"
                mode: "rectangle"
                multiline: True
                required: True
                max_input_size: 500
                helper_text: "Enter General Description"
                helper_text_mode: "on_focus"
                size_hint_y: None
                height: dp(150)

    MDBoxLayout:
        orientation: "horizontal"
        size_hint_x: 1
        spacing: 175

        MDFillRoundFlatIconButton:
            text: "Prev Pref"
            pos_hint: {'center_x': 0.2}
            icon: "arrow-left"
            on_release: root.class_parent.load_next_pref_page(0, "right")

        MDFillRoundFlatIconButton:
            text: "Next Pref"
            pos_hint: {'center_x': 0.8}
            icon: "arrow-right"
            on_release: root.class_parent.load_next_pref_page(2)


<PopupImageSelection>:
    auto_dismiss: False
    size_hint: (0.8, 0.8)

    GridLayout:
        cols: 3
        padding: 10
        spacing: 10

        MDRectangleFlatButton:
            size_hint: None, None
            size: dp(50), dp(50)
            on_release: root.select_image('images/pikachu.jpg')

            FitImage:
                size_hint: None, None
                size: dp(50), dp(50)
                pos_hint: {"left": 1}
                source: 'images/pikachu.jpg'

        MDRectangleFlatButton:
            size_hint: None, None
            size: dp(50), dp(50)
            on_release: root.select_image('images/piplup.jpg')

            FitImage:
                size_hint: None, None
                size: dp(50), dp(50)
                pos_hint: {"left": 1}
                source: 'images/piplup.jpg'

        MDRectangleFlatButton:
            size_hint: None, None
            size: dp(50), dp(50)
            on_release: root.select_image('images/celebi.png')

            FitImage:
                size_hint: None, None
                size: dp(50), dp(50)
                pos_hint: {"left": 1}
                source: 'images/celebi.png'

        # Add more images as needed
